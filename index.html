<html>
    <head>
        <title>Visualising data with d3.js</title>
    </head>
    <body>
        <article>
            <div id="leader">
                <section>
                    <div class="info-box">
                        <h1>Introducing d3.js</h1>
                        d3.js is a library for binding data structures to elements in an 
                        html document. Here is a simple example. You can bind any type of 
                        data as long as it fits into an array.
                        <pre><code data-source="bindingExample"></code></pre>
                        <div class="result sticky" id="binding-example"></div>
                        You can control the properties of elements using either values
                        or functions. When you use functions each element knows
                        which piece of data it is joined to.
                    </div>
                </section>
                <section>
                    <div class="info-box">
                        <h1>Joins</h1>
                        Data is bound by joining it to a selection created using <pre class="snippet">.selectAll()</pre>.
                        If the elements already exist then data is bound to them (by default d3.js uses the order to decide
                        which piece of data gets bound to which element).
                        <pre><code data-source="joinsExample"></code></pre>
                        <div class="result sticky" id="joins-example">
                            <ul>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </div>
                    </div>
                    <div class="info-box">
                        If an element doesn't exist for a piece of data then the join is still created.
                        The <pre class="snippet">.enter()</pre> function is used to describe what happens
                        in these situations.
                        <pre><code data-source="enterExample"></code></pre>
                        <div class="result sticky" id="enter-example">
                            <ul>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </div>
                    </div>
                    <div class="info-box">
                        Removing elements works in a similar way. You can specify what happens
                        to an element when it is no longer bound to a piece of data with the
                        <pre class="snippet">.exit()</pre> function.
                        <pre><code data-source="exitExample1"></code></pre>
                        <pre><code data-source="exitExample2"></code></pre>
                        <div class="result sticky" id="exit-example"></div>
                    </div>
                </section>
                <section>
                    <div class="info-box">
                        <h1>SVG</h1>
                        d3.js can be used with SVG as well as HTML. SVG stands for scalable
                        vector graphic. It is an XML based format for drawing shapes and is 
                        understood by modern web browsers (Firefox, Chrome, IE9).
                        <pre><code data-source="svgExample"></code></pre>
                        <div class="result sticky" id="svg-example">
                            <svg width="500" height="50"></svg>
                        </div>
                        The SVG format contains many different elements, a full list
                        can be found here <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element?redirectlocale=en-US&redirectslug=SVG%2FElement">SVG Element Reference</a>. For this tutorial we'll be looking at <pre class="snippet">circle</pre>, <pre class="snippet">rect</pre> and
                        <pre class="snippet">path</pre>.
                    </div>
                </section>
                <section>
                    <div class="info-box">
                        <h1>A simple bar chart</h1>
                        Now we have had a quick look at d3.js let's go through the steps of creating a simple chart.
                        A good visualisation is designed to answer a question or prove a point about some data. So
                        let's start by looking at the data we are going to use.
                        <pre><code data-source="barChartData"></code></pre>
                    </div>
                    <div class="info-box">
                        There are some obvious questions we can answer. Such as...
                        <h3>Which is the longest book?</h3>
                        <div class="result sticky" id="book-length">
                            <svg width="600" height="120" viewBox="0 0 600 120"></svg>
                            <div class="title">title</div>
                        </div>
                        We can use <pre class="snippet">rect</pre> elements inside the SVG to
                        represent the number of pages in each book. The size and position of each element
                        is controlled using the <pre class="snippet">x</pre>, <pre class="snippet">y</pre>, <pre class="snippet">width</pre>
                        and <pre class="snippet">height</pre> properties. Each element has access to it's data
                        point and index. These can be used in functions to position an element based on the
                        values of it's data.
                        <pre><code data-source="bookLength1"></code></pre>
                        The bars are useless without adding some labels...
                        <pre><code data-source="bookLength2"></code></pre>
                        It's a good idea to give each element a class, this way we wont accidently
                        join to the same thing twice.<br><br>
                        Finally we should tell people that our unit of measurement is pages...
                        <pre><code data-source="bookLength3"></code></pre>
                        Notice that we can control the appearance of elements using CSS classes
                        as well as setting the styles in d3.js.
                    </div>
                    <div class="info-box">
                        There are also more complicated questions we can answer using visualisation.
                        For instance...
                        <h3>How does the publication date effect the number of pages?</h3>
                        This is a good place to investigate some of the built in functions
                        that come with d3.js. Instead of positioning elements by providing
                        values manually we can use a <pre class="snippet">scale</pre> function.
                        <pre><code data-source="scaleExample"></code></pre>
                        <div class="result sticky" id="scale-example"></div>
                        In the above code <pre class="snippet">d3.scale.linear()</pre> creates
                        a linear scale function. The <pre class="snippet">range([minOut,maxOut])</pre> function
                        sets the maximum and minimum output values. The <pre class="snippet">domain([minIn,maxIn])</pre>
                        function sets the values we want to map using the scale.<br><br>
                        Scales can also be used to map colour values...
                        <pre><code data-source="colourScaleExample"></code></pre>
                        <div class="result sticky" id="colour-scale-example"></div>
                        And, for the question "How does the publication date effect the number of pages?" we
                        can use scales to map time and date values.
                        <div class="result sticky" id="publication-vs-pages">
                            <svg width="600" height="180"></svg>
                            <div class="title"></div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="big-whitespace"></div>
        </article>
    <script src="lib/d3.v3.min.js"></script>
    <script src="lib/highlight.pack.js"></script>
    <script src="scripts/demos.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"></link>
    <link rel="stylesheet" type="text/css" href="default.css"></link>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
    <script>demo._init();</script>
    </body>
</html>

